/*
 * smart-number-inputs.js
 * 
 * Increment/decrement number values in text inputs using up and down arrow keys.
 * 
 * Author: Martti Laine (@codeclown)
 * License: MIT
 * URL: https://github.com/codeclown/smart-number-inputs
 */
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};!function(e){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"object"===("undefined"==typeof module?"undefined":_typeof(module))?module.exports=e():"function"==typeof define&&define.amd?define(e):window.smartNumberInputs=e()}(function(){var e=function(e){return"[object Array]"===Object.prototype.toString.call(e)},t=function(e,t,n){return e.addEventListener(t,n)},n=function(e,t){for(var n=0;n<e.length;n++)t(e[n])},o=function(e,t){if("createEvent"in document){var n=document.createEvent("HTMLEvents");n.initEvent(t,!1,!0),e.dispatchEvent(n)}else e.fireEvent("on"+t)},r=38,i=40,f=/([^\-\w0-9]+)/,u=function(e){if(e.which===r||e.which===i){e.preventDefault();var t=e.currentTarget,n=t.value,f=t.selectionStart,u=t.selectionEnd,c=e.which===r?1:-1;e.shiftKey&&(c*=10);var a=l(n,f,u,c);t.value=a.value,t.setSelectionRange(a.start,a.end),o(t,"change")}},c=function o(r){return e(r)||r instanceof NodeList||r instanceof HTMLCollection?n(r,o):void t(r,"keydown",u,!1)},l=function(e,t,n,o){for(var r,i=e.split(f),u=null,c=null,l=0,a=0;a<i.length;a++)if(r=i[a],l+=r.length,!r.match(f)&&(l>=t&&(null===u&&(u=l-r.length),i[a]=r.replace(/-?[0-9]+/,parseInt(r.replace(/^.*?(-?[0-9]+).*/,"$1"),10)+o)),l-=r.length-i[a].length,n-=r.length-i[a].length,l>=n)){c=l;break}return{value:i.join(""),start:u,end:c}};return{eventHandler:u,enable:c,modify:l}});