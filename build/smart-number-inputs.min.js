/*
 * smart-number-inputs.js
 * 
 * Increment/decrement number values in text inputs using up and down arrow keys.
 * 
 * Author: Martti Laine (@codeclown)
 * License: MIT
 * URL: https://github.com/codeclown/smart-number-inputs
 */
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"object"===("undefined"==typeof module?"undefined":_typeof(module))?module.exports=e():"function"==typeof define&&define.amd?define(e):window.smartNumberInputs=e()}(function(){var e=function(e){return"[object Array]"===Object.prototype.toString.call(e)},t=function(e,t,n){return e.addEventListener(t,n)},n=function(e,t){for(var n=0;n<e.length;n++)t(e[n])},o=function(e,t){if("createEvent"in document){var n=document.createEvent("HTMLEvents");n.initEvent(t,!1,!0),e.dispatchEvent(n)}else e.fireEvent("on"+t)},r=/([^\-\w0-9]+)/,i=function(e){if(38===e.which||40===e.which){e.preventDefault();var t=e.currentTarget,n=t.value,r=t.selectionStart,i=t.selectionEnd,f=38===e.which?1:-1;e.shiftKey&&(f*=10);var l=u(n,r,i,f);t.value=l.value,t.setSelectionRange(l.start,l.end),o(t,"change")}},f=function o(r){if(e(r)||r instanceof NodeList||r instanceof HTMLCollection)return n(r,o);t(r,"keydown",i)},u=function(e,t,n,o){for(var i,f=e.split(r),u=null,l=null,c=0,a=0;a<f.length;a++)if(i=f[a],c+=i.length,!i.match(r)&&(c>=t&&(null===u&&(u=c-i.length),f[a]=i.replace(/-?[0-9]+/,parseInt(i.replace(/^.*?(-?[0-9]+).*/,"$1"),10)+o)),c-=i.length-f[a].length,n-=i.length-f[a].length,c>=n)){l=c;break}return{value:f.join(""),start:u,end:l}};return{eventHandler:i,enable:f,modify:u}});